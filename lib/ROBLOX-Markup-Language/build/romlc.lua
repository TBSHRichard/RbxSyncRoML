local a,b,c;local d,e,f,g,h,i,j;local k,l,m,n,o,p,q,r,s;local t,u,v,w,x,y,z,A,B,C;if game then local D=script.Parent;q=require(D.lulpeg.lulpeg)else q=require("lpeg")end;do do local E;local F={AddChild=function(self,G)G:SetIndent(tostring(self._indent).."  ")return table.insert(self._children,G)end,SetIndent=function(self,H)self._indent=H;local I=self._children;for J=1,#I do local G=I[J]G:SetIndent(tostring(self._indent).."  ")end end,BeforeRender=function(self)end,AfterRender=function(self)end,Render=function(self)local K=""K=K..self:BeforeRender()K=K.."\n"local I=self._children;for J=1,#I do local G=I[J]K=K..G:Render()if G.__class.__name~="SpaceBlock"or G.__class.__name=="SpaceBlock"and#G._children>0 then K=K.."\n"end end;return K..self:AfterRender()end}F.__index=F;E=setmetatable({__init=function(self)self._indent=""self._children={}end,__base=F,__name="Block"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;a=E end end;do do local E;local N=a;local F={SetIndent=function(self,H)self._indent=H;self._topBlock:SetIndent(tostring(H).."  ")return self._bottomBlock:SetIndent(tostring(H).."  ")end,AddChild=function(self,O,G)if O==self.__class.TOP then return self._topBlock:AddChild(G)elseif O==self.__class.BOTTOM then return self._bottomBlock:AddChild(G)end end,MiddleRender=function(self)end,Render=function(self)local K=""K=K..self:BeforeRender()K=K.."\n"K=K..self._topBlock:Render()K=K.."\n"K=K..self:MiddleRender()K=K.."\n"K=K..self._bottomBlock:Render()K=K.."\n"return K..self:AfterRender()end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self)E.__parent.__init(self)self._topBlock=w()self._bottomBlock=w()table.insert(self._children,self._topBlock)return table.insert(self._children,self._bottomBlock)end,__base=F,__name="DoubleBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;local self=E;self.TOP="top"self.BOTTOM="bottom"if N.__inherited then N.__inherited(N,E)end;b=E end end;do local S=1;do local E;local F={SetParent=function(self,R)self._parent=R;if R then self._robloxObject.Parent=R:GetRobloxObject()end end,GetRobloxObject=function(self)return self._robloxObject end,ObjectName=function(self)return self._robloxObject.ClassName end,Refresh=function(self)for P,T in pairs(self._properties)do local U=self._propertyFilters[P]if U then U(T,self._robloxObject)else self._robloxObject[P]=T end end end,StyleObject=function(self,V)for P,T in pairs(V)do local U=self._propertyFilters[P]if U then U(T,self._robloxObject)else self._robloxObject[P]=T end end end,AddChild=function(self,G)if self:AllowsChildren()then G:SetParent(self)self._children[G:GetId()]=G;return G else return error("RomlObject '"..tostring(self.__class.__name).."' does not allow children objects.")end end,SetProperties=function(self,V)for P,W in pairs(V)do self._properties[P]=W end end,SetClasses=function(self,X)self._classes=X end,RemoveAllChildren=function(self)for Y,G in self._children:pairs()do self._romlDoc:RemoveChild(G)G:RemoveAllChildren()G._robloxObject:Destroy()end;self._children={}end,GetId=function(self)return self._id end,GetObjectId=function(self)return self._objectId end,GetClasses=function(self)return self._classes end,RemoveChild=function(self,G)G:SetParent(nil)self._children[G:GetId()]=nil end,HasClass=function(self,Z)local I=self._classes;for J=1,#I do local P=I[J]if P==Z then return true end end;return false end,MatchesSelector=function(self,_)local a0=_:Pop()local a1=false;if a0.object~=nil then a1=a0.object==self:ObjectName()if a0.class~=nil then a1=a1 and self:HasClass(a0.class)elseif a0.id~=nil then a1=a1 and a0.id==self._objectId end else if a0.class~=nil then a1=self:HasClass(a0.class)else a1=a0.id==self._objectId end end;if a1 then if not _:IsEmpty()then return self._parent:MatchesSelector(_)else return true end else return false end end,AllowsChildren=function(self)return true end,Find=function(self,a0)end}F.__index=F;E=setmetatable({__init=function(self,a2,a3,a4,X)if X==nil then X={}end;self._romlDoc=a2;self._id=S;S=S+1;self._properties={}self._propertyFilters={}self._objectId=a4;if type(a3)=="string"then a3=Instance.new(a3)end;self._robloxObject=a3;self._classes=X;self._children=k({})end,__base=F,__name="RomlObject"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;c=E end end;do local a5,a6,a7,a8;a5,a6,a7,a8=q.C,q.Ct,q.P,q.R;local a9=a8("09")local aa=a7(" ")^0;local ab=aa*(a7("-")^-1*a9^0*"."*a9^1+a7("-")^-1*a9^1)/tonumber*aa;local ac=ab*","*ab;local ad=ac*","*ab;local ae=ad*","*ab;local af=a6(ae+ac)*-1;local ag=a6(ad+ab)*-1;local ah=a6(ac)*-1;local ai=a5(a8("AZ")*(a8("AZ")+a8("az")+" "+".")^1)*-1;local aj=a5(a8("AZ")*(a8("AZ")+a8("az")+a8("09"))^1)*-1;local ak;ak=function(Z)return Z=="Frame"or Z=="ImageButton"or Z=="TextButton"or Z=="ImageLabel"or Z=="TextLabel"or Z=="Scale9Frame"or Z=="ScrollingFrame"or Z=="TextBox"end;local al;al=function(W)do local am=af:match(W)if am then if#am==2 then return p("UDim2.new(0, "..tostring(am[1])..", 0, "..tostring(am[2])..")")elseif#am==4 then return p("UDim2.new("..tostring(am[1])..", "..tostring(am[2])..", "..tostring(am[3])..", "..tostring(am[4])..")")end else return p(W)end end end;local an;an=function(W)do local am=ah:match(W)if am then return p("Vector2.new("..tostring(am[1])..", "..tostring(am[2])..")")else return p(W)end end end;local ao;ao=function(W)do local am=ag:match(W)if am then if#am==1 then return p("Vector3.new("..tostring(am[1])..", "..tostring(am[1])..", "..tostring(am[1])..")")elseif#am==3 then return p("Vector3.new("..tostring(am[1])..", "..tostring(am[2])..", "..tostring(am[3])..")")end else return p(W)end end end;local ap;ap=function(Z,W)if ak(Z)then return al(W)else return ao(W)end end;local aq;aq=function(Z,W)do local am=ag:match(W)if am then if#am==1 then return p("BrickColor.new("..tostring(am[1])..")")elseif#am==3 then return p("BrickColor.new("..tostring(am[1]/255)..", "..tostring(am[2]/255)..", "..tostring(am[3]/255)..")")end else do am=ai:match(W)if am then return p("BrickColor.new(\""..tostring(W).."\")")else return p(W)end end end end end;local ar;ar=function(Z,W)do local am=ag:match(W)if am then if#am==1 then return p("BrickColor.new("..tostring(am[1])..").Color")elseif#am==3 then return p("Color3.new("..tostring(am[1]/255)..", "..tostring(am[2]/255)..", "..tostring(am[3]/255)..")")end else do am=ai:match(W)if am then return p("BrickColor.new(\""..tostring(W).."\").Color")else return p(W)end end end end end;local as;as=function(at)return function(Z,W)do local am=aj:match(W)if am then return p("Enum."..tostring(at).."."..tostring(W))else return p(W)end end end end;local au;au=function(Z,W)local av=Z;if"ImageButton"==av or"TextButton"==av then return as("ButtonStyle")(Z,W)elseif"Frame"==av then return as("FrameStyle")(Z,W)elseif"Handles"==av then return as("HandlesStyle")(Z,W)elseif"TrussPart"==av then return as("Style")(Z,W)else return p(W)end end;local aw={AnimationPriority=as("AnimationPriority"),BackgroundColor3=ar,BackSurface=as("SurfaceType"),BackSurfaceInput=as("InputType"),BinType=as("BinType"),BodyPart=as("BodyPart"),BorderColor3=ar,BottomSurface=as("SurfaceType"),BottomSurfaceInput=as("InputType"),BrickColor=aq,CameraMode=as("CameraMode"),CameraType=as("CameraType"),Color=ar,DisplayDistanceType=as("HumanoidDisplayDistanceType"),ExplosionType=as("ExplosionType"),Face=as("NormalId"),FaceId=as("NormalId"),Font=as("Font"),FontSize=as("FontSize"),FormFactor=as("FormFactor"),FrontSurface=as("SurfaceType"),FrontSurfaceInput=as("InputType"),InOut=as("InOut"),LeftRight=as("LeftRight"),LeftSurface=as("SurfaceType"),LeftSurfaceInput=as("InputType"),Material=as("Material"),MeshType=as("MeshType"),NameOcclusion=as("NameOcclusion"),Position=ap,Purpose=as("DialogPurpose"),RightSurface=as("SurfaceType"),RightSurfaceInput=as("InputType"),SecondaryColor=ar,Shape=as("PartType"),Size=ap,SizeConstraint=as("SizeConstraint"),SparkleColor=ar,Style=au,TextXAlignment=as("TextXAlignment"),TextYAlignment=as("TextYAlignment"),Tone=as("DialogTone"),TargetSurface=as("NormalId"),TextColor3=ar,TextStrokeColor3=ar,TopBottom=as("TopBottom"),TopSurface=as("SurfaceType"),TopSurfaceInput=as("InputType")}local ax;ax=function(Z,ay,az)do local U=aw[ay]if U then return U(Z,az)else return p(az)end end end;d={BrickColorFilter=aq,Color3Filter=ar,EnumFilter=as,FilterProperty=ax,PositionAndSizeFilter=ap,StyleEnumFilter=au,UDim2Filter=al,Vector2Filter=an,Vector3Filter=ao}end;do do local E;local N=a;local F={AddCondition=function(self,aA)if aA==nil then aA=""end;table.insert(self._conditions,aA)return E.__parent.AddChild(self,w())end,AddChild=function(self,G)return self._children[#self._children]:AddChild(G)end,Render=function(self)local K=""for aB,G in ipairs(self._children)do local aC=self._conditions[aB]if aB==1 then aC="if "..tostring(aC).." then"elseif aC==""then aC="else"else aC="elseif "..tostring(aC).." then"end;K=K..tostring(self._indent)..tostring(aC).."\n"K=K..G:Render().."\n"end;return K..tostring(self._indent).."end"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self)E.__parent.__init(self)self._conditions={}end,__base=F,__name="ConditionalBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;e=E end end;do do local E;local N=c;local F={ObjectName=function(self)return self.__class.__name end,Create=function(self)end,CreateProperties=function(self)return{}end,PropertyUpdateOrder=function(self)return{}end,UpdateProperty=function(self,aD,P,W)end,Refresh=function(self)local aE=self:PropertyUpdateOrder()if#aE>0 then for J=1,#aE do local P=aE[J]if self._properties[P]~=nil then self:UpdateProperty(self._robloxObject,P,self._properties[P])end end else for P,T in pairs(self._properties)do self:UpdateProperty(self._robloxObject,P,T)end end end,StyleObject=function(self,V)local aE=self:PropertyUpdateOrder()if#aE>0 then for J=1,#aE do local P=aE[J]if V[P]~=nil then self:UpdateProperty(self._robloxObject,P,V[P])end end else for P,T in pairs(V)do self:UpdateProperty(self._robloxObject,P,T)end end end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,a2,a4,X)E.__parent.__init(self,a2,self:Create(),a4,X)return self:SetProperties(self:CreateProperties())end,__base=F,__name="CustomObject",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;f=E end end;do local aF;do local E;local F={Build=function(self,P,aG)local aH={}aH.FilterProperty=aG.FilterProperty or function(P,W,p,d)return p(W)end;do local aI;local N=f;local aJ={Create=aG.Create,UpdateProperty=aG.UpdateProperty}aJ.__index=aJ;setmetatable(aJ,N.__base)aI=setmetatable({__init=function(self,a2,a4,X)self.__class.__name=P;if aG.CreateProperties then self.CreateProperties=aG.CreateProperties end;if aG.AllowsChildren then self.AllowsChildren=aG.AllowsChildren end;if aG.PropertyUpdateOrder then self.PropertyUpdateOrder=aG.PropertyUpdateOrder end;return aI.__parent.__init(self,a2,a4,X)end,__base=aJ,__name="customObject",__parent=N},{__index=function(L,P)local Q=rawget(aJ,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},aJ)L.__init(M,...)return M end})aJ.__class=aI;if N.__inherited then N.__inherited(N,aI)end;aH.customObject=aI end;self._customObjects[P]=aH end,HasObject=function(self,P)return self._customObjects[P]~=nil end,GetObject=function(self,P)return self._customObjects[P].customObject end,FilterProperty=function(self,aK,ay,W,p,d)return self._customObjects[aK].FilterProperty(ay,W,p,d)end}F.__index=F;E=setmetatable({__init=function(self)self._customObjects={}self:Build("SpriteSheet",x)if game then local I=game:GetService("ServerScriptService").com.blacksheepherd.customobject.user:GetChildren()for J=1,#I do local aL=I[J]self:Build(aL.name,require(aL))end end end,__base=F,__name="CustomObjectBuilderSingleton"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;local self=E;self.Instance=function()if not self.__class._instance then self.__class._instance=aF()end;return self.__class._instance end;aF=E end;local aM;aM=function(P)return aF.Instance():HasObject(P)end;local aN;aN=function(P,a2,a4,X)return aF.Instance():GetObject(P)(a2,a4,X)end;local ax;ax=function(aK,ay,W,p,d)return aF.Instance():FilterProperty(aK,ay,W,p,d)end;g={CreateObject=aN,FilterProperty=ax,IsACustomObject=aM}end;do do local E;local N=a;local F={BeforeRender=function(self)return tostring(self._indent).."do"end,AfterRender=function(self)return tostring(self._indent).."end"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,...)return E.__parent.__init(self,...)end,__base=F,__name="DoBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;h=E end end;do do local E;local N=a;local F={BeforeRender=function(self)return tostring(self._indent).."for "..tostring(self._condition).." do"end,AfterRender=function(self)return tostring(self._indent).."end"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,aA)E.__parent.__init(self)self._condition=aA end,__base=F,__name="ForBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;i=E end end;do do local E;local N=a;local F={BeforeRender=function(self)return tostring(self._indent)..tostring(self._name).." = function("..tostring(self._parameters)..")"end,AfterRender=function(self)return tostring(self._indent).."end"end,AddLineIfNotAdded=function(self,aC)if not self._addedLines[aC]then self._addedLines[aC]=true;return self:AddChild(o(aC))end end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,P,aO)E.__parent.__init(self)self._name=P;self._parameters=aO;self._addedLines={}end,__base=F,__name="FunctionBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;j=E end end;do do local E;local F={pairs=function(self)return pairs(self._t)end,Length=function(self)return self:__len()end,__newindex=function(self,aP,W)if self._t[aP]==nil then self._length=self._length+1 elseif W==nil then self._length=self._length-1 end;self._t[aP]=W end,__len=function(self)return self._length end}F.__index=F;E=setmetatable({__init=function(self,aG)rawset(self,"_t",{})rawset(self,"_length",0)for aP,W in pairs(aG)do self[aP]=W end;local aQ=getmetatable(self)local aR=aQ.__index;aQ.__index=function(self,aP)do local W=rawget(rawget(self,"_t"),aP)if W then return W else if type(aR)=="function"then return aR(self,aP)else return aR[aP]end end end end end,__base=F,__name="HashMap"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;k=E end end;do do local E;local N=a;local F={BeforeRender=function(self)return tostring(self._indent).."if "..tostring(self._condition).." then"end,AfterRender=function(self)return tostring(self._indent).."end"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,aA)E.__parent.__init(self)self._condition=aA end,__base=F,__name="IfBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;l=E end end;do do local E;local N=b;local F={BeforeRender=function(self)return tostring(self._indent).."if "..tostring(self._condition).." then"end,MiddleRender=function(self)return tostring(self._indent).."else"end,AfterRender=function(self)return tostring(self._indent).."end"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,aA)E.__parent.__init(self)self._condition=aA end,__base=F,__name="IfElseBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;m=E end end;do do local E;local N=a;local F={AddChild=function(self,G)G:SetIndent(self._indent)return table.insert(self._children,G)end,SetIndent=function(self,H)E.__parent.__base.SetIndent(self,H)local I=self._children;for J=1,#I do local G=I[J]G:SetIndent(H)end end,Render=function(self)local K=""for aB,G in ipairs(self._children)do K=K..G:Render()if not(aB==#self._children)then K=K..",\n"end end;return K end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,...)return E.__parent.__init(self,...)end,__base=F,__name="InnerMetatableBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;n=E end end;do do local E;local F={SetIndent=function(self,H)self._indent=H end,Render=function(self)return tostring(self._indent)..tostring(self._text)end}F.__index=F;E=setmetatable({__init=function(self,aS)self._indent=""self._text=aS end,__base=F,__name="Line"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;o=E end end;do do local E;local F={__tostring=function(self)return self._string end}F.__index=F;E=setmetatable({__init=function(self,aT)self._string=aT end,__base=F,__name="LiteralString"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;p=E end end;do do local E;local F={AddChild=function(self,O,G)local av=O;if self.__class.BLOCK_VARS==av then return self._varsBlock:AddChild(G)elseif self.__class.BLOCK_UPDATE_FUNCTIONS==av then return self._updateFunctionsBlock:AddChild(G)elseif self.__class.BLOCK_CREATION==av then return self._creationBlock:AddChild(G)elseif self.__class.BLOCK_FUNCTION_CALLS==av then return self._functionCallsBlock:AddChild(G)end end,AddCustomObjectBuilderRequire=function(self)if not self._hasCustomObjectBuilderRequire then self._hasCustomObjectBuilderRequire=true;return self._extraRequiresBlock:AddChild(t("com.blacksheepherd.customobject","CustomObjectBuilder"))end end,Render=function(self)local K=""local I=self._children;for J=1,#I do local G=I[J]K=K..G:Render()if G.__class.__name~="SpaceBlock"or G.__class.__name=="SpaceBlock"and#G._children>0 then K=K.."\n"end end;return K end}F.__index=F;E=setmetatable({__init=function(self,P)self._children={}table.insert(self._children,t("com.blacksheepherd.roml","RomlVar"))table.insert(self._children,t("com.blacksheepherd.roml","RomlDoc"))table.insert(self._children,t("com.blacksheepherd.roml","RomlObject"))self._extraRequiresBlock=w()self._hasCustomObjectBuilderRequire=false;table.insert(self._children,self._extraRequiresBlock)table.insert(self._children,o("local "..tostring(P)))local aU=h()aU:AddChild(o("local _parent_0 = RomlDoc"))local aV=B("_base_0")local aW=j("_create","self, parent, vars")aW:AddChild(o("self._rootObject = RomlObject(self, parent)"))aW:AddChild(o("local objTemp"))self._varsBlock=w()self._updateFunctionsBlock=w()self._creationBlock=w()self._functionCallsBlock=w()aW:AddChild(self._varsBlock)aW:AddChild(self._updateFunctionsBlock)aW:AddChild(self._creationBlock)aW:AddChild(self._functionCallsBlock)aV:AddChild(aW)aU:AddChild(aV)aU:AddChild(o("_base_0.__index = _base_0"))aU:AddChild(o("setmetatable(_base_0, _parent_0.__base)"))local aX=s("_class_0")local aY=j("__init","self, parent, vars, ross")aY:AddChild(o("return _parent_0.__init(self, parent, vars, ross)"))aX:AddChild(b.TOP,aY)aX:AddChild(b.TOP,o("__base = _base_0"))aX:AddChild(b.TOP,o("__name = \""..tostring(P).."\""))aX:AddChild(b.TOP,o("__parent = _parent_0"))local aZ=j("__index","cls, name")aZ:AddChild(o("local val = rawget(_base_0, name)"))local a_=m("val == nil")a_:AddChild(b.TOP,o("return _parent_0[name]"))a_:AddChild(b.BOTTOM,o("return val"))aZ:AddChild(a_)aX:AddChild(b.BOTTOM,aZ)local b0=j("__call","cls, ...")b0:AddChild(o("local _self_0 = setmetatable({}, _base_0)"))b0:AddChild(o("cls.__init(_self_0, ...)"))b0:AddChild(o("return _self_0"))aX:AddChild(b.BOTTOM,b0)aU:AddChild(aX)aU:AddChild(o("_base_0.__class = _class_0"))aU:AddChild(o("local self = _class_0"))local b1=j("self.new","parent, vars, ross")b1:AddChild(o("return "..tostring(P).."(parent, vars, ross)"))aU:AddChild(b1)local b2=l("_parent_0.__inherited")b2:AddChild(o("_parent_0.__inherited(_parent_0, _class_0)"))aU:AddChild(b2)aU:AddChild(o(tostring(P).." = _class_0"))table.insert(self._children,aU)return table.insert(self._children,o("return "..tostring(P)))end,__base=F,__name="MainRomlBlock"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;local self=E;self.BLOCK_VARS=1;self.BLOCK_UPDATE_FUNCTIONS=2;self.BLOCK_CREATION=4;self.BLOCK_FUNCTION_CALLS=8;r=E end end;do do local E;local N=b;local F={BeforeRender=function(self)return tostring(self._indent).."local "..tostring(self._name).." = setmetatable({"end,MiddleRender=function(self)return tostring(self._indent).."}, {"end,AfterRender=function(self)return tostring(self._indent).."})"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,P)E.__parent.__init(self)self._name=P;self._topBlock=n()self._bottomBlock=n()end,__base=F,__name="MetatableBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;s=E end end;do do local E;local N=o;local F={}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,b3,P)return E.__parent.__init(self,"local "..tostring(P).." = require(game:GetService(\"ServerScriptService\")."..tostring(b3).."."..tostring(P)..")")end,__base=F,__name="RequireLine",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;t=E end end;do local b4;local b5;local b6;local b7;local b8;local b9;local ba;local bb;bb=function(bc)for J=1,#bc do local bd=bc[J]b6:AddChild(r.BLOCK_CREATION,bd)end end;local be;be=function(bf,aC)if not b7[bf]then b6:AddChild(r.BLOCK_VARS,o("local varChange_"..tostring(bf)))b7[bf]=j("varChange_"..tostring(bf),"")b6:AddChild(r.BLOCK_UPDATE_FUNCTIONS,b7[bf])b6:AddChild(r.BLOCK_CREATION,o("self._vars."..tostring(bf).." = RomlVar(vars."..tostring(bf)..")"))b6:AddChild(r.BLOCK_CREATION,o("self._vars."..tostring(bf)..".Changed:connect(varChange_"..tostring(bf)..")"))b6:AddChild(r.BLOCK_FUNCTION_CALLS,o("varChange_"..tostring(bf).."()"))end;return b7[bf]:AddLineIfNotAdded(aC)end;local bg;bg=function(Z,bf,aK,bh)if aK==nil then aK=b8:NameObjectVariable(Z)b6:AddChild(r.BLOCK_VARS,o("local "..tostring(aK)))end;if b7[bf]==nil then b7[bf]=j("varChange_"..tostring(bf),"")b6:AddChild(r.BLOCK_VARS,o("local varChange_"..tostring(bf)))b6:AddChild(r.BLOCK_UPDATE_FUNCTIONS,b7[bf])b6:AddChild(r.BLOCK_CREATION,o("self._vars."..tostring(bf).." = RomlVar(vars."..tostring(bf)..")"))b6:AddChild(r.BLOCK_CREATION,o("self._vars."..tostring(bf)..".Changed:connect(varChange_"..tostring(bf)..")"))b6:AddChild(r.BLOCK_FUNCTION_CALLS,o("varChange_"..tostring(bf).."()"))end;bh(b7[bf],aK,bf)return aK end;local bi;bi=function(bj,Z,bk,X,V,bl)local bm="nil"local aK=nil;if X and X[1]=="static"then bm=A.ArrayToSingleLineString(X[2])elseif X and X[1]=="dynamic"then aK=bg(Z,X[2],aK,function(bn,aK,bf)return bn:AddChild(o(tostring(aK)..":SetClasses(self._vars."..tostring(bf)..":GetValue())"))end)end;if V then for P,W in V:pairs()do if type(W)=="string"then if g.IsACustomObject(Z)then V[P]=g.FilterProperty(Z,P,W,p,d)else V[P]=d.FilterProperty(Z,P,W)end else aK=bg(Z,W[2],aK,function(bn,aK,bf)bn:AddChild(o(tostring(aK)..":SetProperties({"..tostring(P).." = self._vars."..tostring(bf)..":GetValue()})"))return bn:AddChild(o(tostring(aK)..":Refresh()"))end)V[P]=nil end end end;if#bl>0 and not aK then aK=b8:NameObjectVariable(Z)b6:AddChild(r.BLOCK_VARS,o("local "..tostring(aK)))end;if not aK then aK="objTemp"end;local bo;if bk==nil then bo="nil"else bo="\""..tostring(bk).."\""end;local bc={}if g.IsACustomObject(Z)then b6:AddCustomObjectBuilderRequire()table.insert(bc,o(tostring(aK).." = CustomObjectBuilder.CreateObject(\""..tostring(Z).."\", self, "..tostring(bo)..", "..tostring(bm)..")"))else table.insert(bc,o(tostring(aK).." = RomlObject(self, "..tostring(bj)..", "..tostring(bo)..", "..tostring(bm)..")"))end;if bk then table.insert(bc,o("self._objectIds["..tostring(bo).."] = "..tostring(aK)))end;if V and V:Length()>0 then table.insert(bc,o(tostring(aK)..":SetProperties("..tostring(A.HashMapToSingleLineString(V))..")"))table.insert(bc,o(tostring(aK)..":Refresh()"))end;table.insert(bc,o("self:AddChild("..tostring(b9:Peek())..":AddChild("..tostring(aK).."))"))ba:Peek()(bc)ba:Push(ba:Peek())b9:Push(aK)b4(bl)b9:Pop()return ba:Pop()end;b5={object=function(bp)local Y,Z,bk,X,V,bl=unpack(bp)return bi("\""..tostring(Z).."\"",Z,bk,X,V,bl)end,clone=function(bp)local Y,Z,aD,bk,X,V,bl=unpack(bp)return bi(aD,Z,bk,X,V,bl)end,["if"]=function(bp)local Y,aA,bq,bl,br=unpack(bp)local bs=b9:Peek()if bs=="self._rootObject"then bs="Parent"else bs=string.sub(bs,4)end;if ba:Peek()==bb then local bt="update"..tostring(bs)local bu=j(bt,"")bu:AddChild(o(tostring(b9:Peek())..":RemoveAllChildren()"))b6:AddChild(r.BLOCK_VARS,o("local "..tostring(bt)))b6:AddChild(r.BLOCK_UPDATE_FUNCTIONS,bu)ba:Push(function(bc)for J=1,#bc do local bd=bc[J]bu:AddChild(bd)end end)end;local bv=e()bv:AddCondition(aA)ba:Peek()({bv})ba:Push(function(bc)for J=1,#bc do local bd=bc[J]bv:AddChild(bd)end end)for J=1,#bq do local bw=bq[J]be(bw,"update"..tostring(bs).."()")end;b4(bl)for J=1,#br do local bx=br[J]aA,bq,bl=unpack(bx)bv:AddCondition(aA)for by=1,#bq do local bw=bq[by]be(bw,"update"..tostring(bs).."()")end;b4(bl)end;return ba:Pop()end,["for"]=function(bp)local Y,aA,bq,bl=unpack(bp)local bs=b9:Peek()if bs=="self._rootObject"then bs="Parent"else bs=string.sub(bs,4)end;if ba:Peek()==bb then local bt="update"..tostring(bs)local bu=j(bt,"")bu:AddChild(o(tostring(b9:Peek())..":RemoveAllChildren()"))b6:AddChild(r.BLOCK_VARS,o("local "..tostring(bt)))b6:AddChild(r.BLOCK_UPDATE_FUNCTIONS,bu)ba:Push(function(bc)for J=1,#bc do local bd=bc[J]bu:AddChild(bd)end end)end;local bz=i(aA)ba:Peek()({bz})ba:Push(function(bc)for J=1,#bc do local bd=bc[J]bz:AddChild(bd)end end)for J=1,#bq do local bw=bq[J]be(bw,"update"..tostring(bs).."()")end;b4(bl)return ba:Pop()end}b4=function(bA)if bA then for Y,bp in ipairs(bA)do b5[bp[1]](bp)end end end;local bB;bB=function(P,bC)b6=r(P)b7={}b8=C()b9=y()ba=y()b9:Push("self._rootObject")ba:Push(bb)b4(bC)return b6:Render()end;u={Compile=bB}end;do local a5,bD,bE,bF,a6,bG,a7,a8,bH,bI;a5,bD,bE,bF,a6,bG,a7,a8,bH,bI=q.C,q.Cc,q.Cf,q.Cs,q.Ct,q.Cmt,q.P,q.R,q.S,q.V;local bJ;if game then bJ=q.L end;local bK;local bL=a7("\r")^-1*a7("\n")local bM=a8("AZ")local bN=a8("az")local bO=a8("09")local bP=bH("\t ")^0;local bQ=bH("\r\n\t ")^0;local bR=bP*(bL^1+-1)local bS=a7("_")+bM+bN;local bT=(bS+bO)^0;local bU=bS*bT;local bV=a7("@")*a5(bU)local bW;bW=function(bX,bq,bY)for J=1,#bq do local bw=bq[J]local bZ=bF((a7("@")*a5(a7(bw))/bY+1)^0)bX=q.match(bZ,bX)end;return bX,bq end;local b_;b_=function(c0)local c1=0;for c2 in c0:gmatch(".")do c1=c1+(function()if c2=="\t"then return 4 else return 1 end end)()end;return c1 end;local c3;c3=function()return true,k({})end;local c4;c4=function(c5)return c5/function(c6,bl)c6[#c6]=bl;return c6 end end;local c7;c7=function(c5)return c5/function(aK,c8,bk,X,V,bl)local aG={"object",aK,bk,X,V,bl}if c8 then aG[1]="clone"table.insert(aG,3,c8)end;return aG end end;local c9;c9=function(V,ca)local aP,W=unpack(ca)V[aP]=W;return V end;local cb;cb=function(cc,cd,c0)local c1=b_(c0)local ce=bK:Peek()if c1>ce then bK:Push(c1)return true end end;local cf;cf=function(cc,cd,c0)local c1=b_(c0)local ce=bK:Peek()return c1==ce end;local cg;cg=function(cc,cd,c0)bK:Pop()return true end;local ch;ch=function(c5)return c5/function(aA,...)return bW(aA,{...},"self._vars.%1:GetValue()")end end;local ci;ci=function(c5)return c5/function(cj,aA,bq,bl,ck)return{"if",(function()if cj=="if"then return aA else return"not("..tostring(aA)..")"end end)(),bq,bl,ck}end end;local cl;cl=function(c5)return c5/function(cj,aA,bq,bl)return{(function()if cj=="elseif"then return aA else return"not("..tostring(aA)..")"end end)(),bq,bl}end end;local cm;cm=function(c5)return c5/function(bl)return{"",{},bl}end end;local cn;cn=function(c5)return c5/function(co,cp)return tostring(co)..", "..tostring(cp)end end;local cq;cq=function(c5)return c5/function(aA,...)local cr=bU*bP*a7(",")*bP*bU;if not q.match(cr,aA)then aA="_, "..tostring(aA)end;return bW(aA,{...},"pairs(self._vars.%1:GetValue())")end end;local cs;cs=function(c5)return c5/function(aA,bq,bl)return{"for",aA,bq,bl}end end;local ct={"RoML",Indent=#bG(bP,cb),CheckIndent=bG(bP,cf),Dedent=bG("",cg),SingleString=a7('"')*(a7("\\\"")+1-a7('"'))^0*a7('"'),DoubleString=a7("'")*(a7("\\'")+1-a7("'"))^0*a7("'"),String=a5(bI("SingleString")+bI("DoubleString")),CloneValue=a5((bH("\t ")^0*(1-bH(")\r\n\t ")))^0),CloneSource=a7("(")*bP*bI("CloneValue")*bP*a7(")"),Id=a7("#")*a5(bU),Classes=a6(bD("dynamic")*a7(".")*bV+bD("static")*a6((a7(".")*a5(bU))^1)),PropertyKey=a5(bM*(bM+bN+bO)^0),PropertyValue=a6(bD("var")*bV)+bI("String")+a5((bH("\t ")^0*(1-bH("}:;\r\n\t ")))^0),RoMLPropertyPair=a6(bP*bI("PropertyKey")*bP*a7(":")*bP*bI("PropertyValue")*bP),PropertyList=a7("{")*bE(bG("",c3)*(bI("RoMLPropertyPair")*a7(";"))^0*bI("RoMLPropertyPair")*a7("}"),c9),ObjectName=a5(bM*(bM+bN)^0),Object=bI("CheckIndent")*a7("%")*bI("ObjectName")*(bI("CloneSource")+bD(nil))*(bI("Id")+bD(nil))*(bI("Classes")+bD(nil))*(bI("PropertyList")+bD(nil)),ObjectBlock=c7(bI("Object")*bI("BlockBody")),Condition=bP*a5((bP*bV+bH("\t ")^0*(1-bH("@\r\n\t ")))^1),ConditionalTop=bI("CheckIndent")*a5(a7("if")+a7("unless"))*ch(bI("Condition")),ConditionalMiddle=bI("CheckIndent")*a5(a7("elseif")+a7("elseunless"))*ch(bI("Condition")),ConditionalBottom=bI("CheckIndent")*a7("else"),ConditionalBlock=ci(bI("ConditionalTop")*bI("BlockBody")*a6(cl(bI("ConditionalMiddle")*bI("BlockBody"))^0*cm(bI("ConditionalBottom")*bI("BlockBody"))^-1)),ForVars=(bU*bP*a7(","))^-1*bP*bU,ForHeader=cq(bI("CheckIndent")*a7("for")*bP*a5(bI("ForVars")*bP*a7("in")*bP*bV)),ForBlock=cs(bI("ForHeader")*bI("BlockBody")),BlockBody=bR*(bI("Indent")*a6(bI("RoMLDocBlock")^0)*bI("Dedent")+bD({})),RoMLDocBlock=bI("ObjectBlock")+bI("ConditionalBlock")+bI("ForBlock"),RoML=a6(bI("RoMLDocBlock")^0)}if game then ct.Indent=bJ(bG(bP,cb))end;local cu=a7(ct)local cv;cv=function(cc)bK=nil;bK=y()bK:Push(0)return cu:match(cc)end;v={Parse=cv}end;do do local E;local N=a;local F={AddChild=function(self,G)G:SetIndent(self._indent)return table.insert(self._children,G)end,SetIndent=function(self,H)E.__parent.__base.SetIndent(self,H)local I=self._children;for J=1,#I do local G=I[J]G:SetIndent(H)end end,Render=function(self)local K=""for aB,G in ipairs(self._children)do K=K..G:Render()if aB<#self._children and(G.__class.__name~="SpaceBlock"or G.__class.__name=="SpaceBlock"and#G._children>0)then K=K.."\n"end end;return K end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,...)return E.__parent.__init(self,...)end,__base=F,__name="SpaceBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;w=E end end;do x={Create=function(self)local cw=Instance.new("Frame")cw.ClipsDescendants=true;cw.Name="SpriteSheetFrame"cw.BackgroundTransparency=1;cw.BorderSizePixel=0;local cx=Instance.new("ImageLabel",cw)cx.Name="SpriteSheet"cx.Size=UDim2.new(0,256,0,256)cx.BackgroundTransparency=1;cx.BorderSizePixel=0;return cw end,CreateProperties=function(self)return{}end,PropertyUpdateOrder=function(self)return{"Name","Position","SpriteSheet","Size","Index"}end,FilterProperty=function(P,W,p,d)local av=P;if"Position"==av then return d.UDim2Filter(W)elseif"Size"==av then return d.Vector2Filter(W)else return p(W)end end,UpdateProperty=function(self,cw,P,W)local av=P;if"Name"==av then cw.Name=W elseif"Position"==av then cw.Position=W elseif"SpriteSheet"==av then cw:FindFirstChild("SpriteSheet").Image=W elseif"Size"==av then cw.Size=UDim2.new(0,W.x,0,W.y)elseif"Index"==av then local cy=math.floor(256/cw.Size.X.Offset)local cz=W%cy;local cA=math.floor(W/cy)cw:FindFirstChild("SpriteSheet").Position=UDim2.new(0,-cz*cw.Size.X.Offset,0,-cA*cw.Size.Y.Offset)end end,AllowsChildren=function(self)return false end}end;do do local E;local F={Push=function(self,cB)return table.insert(self,cB)end,Pop=function(self)return table.remove(self)end,Peek=function(self)return self[#self]end,IsEmpty=function(self)return#self==0 end,Clone=function(self)return y(self)end}F.__index=F;E=setmetatable({__init=function(self,cC)if cC==nil then cC={}end;for J=1,#cC do local cB=cC[J]table.insert(self,1,cB)end end,__base=F,__name="Stack"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;y=E end end;do local cD;cD=function(aT,cE)local K=""for aB=1,cE do K=K..aT end;return K end;z={StringNTimes=cD}end;do local cF;cF=function(cG)if not(cG==nil)then local K="{"for aB,cB in ipairs(cG)do if type(cB)=="table"and not getmetatable(cB)then K=K..cF(cB)elseif type(cB)=="string"then K=K.."\""..tostring(cB).."\""else K=K..tostring(cB)end;if not(aB==#cG)then K=K..", "end end;return K.."}"else return"nil"end end;local cH;cH=function(cI)if not(cI==nil)then local K="{"local aB=0;for aP,cB in cI:pairs()do aB=aB+1;K=K..tostring(aP).." = "if type(cB)=="table"and not getmetatable(cB)then K=K..cH(k(cB))elseif type(cB)=="string"then K=K.."\""..tostring(cB).."\""else K=K..tostring(cB)end;if not(aB==cI:Length())then K=K..", "end end;return K.."}"else return"nil"end end;local cJ;cJ=function(cI,cK)if cK==nil then cK=0 end;if not(cI==nil)then local K="{\n"local aB=0;for aP,cB in cI:pairs()do aB=aB+1;K=K..z.StringNTimes("\t",cK+1)K=K..tostring(aP).." = "if type(cB)=="table"and not getmetatable(cB)then K=K..cJ(k(cB),cK+1)elseif type(cB)=="table"and getmetatable(cB)and cB.__class.__name=="HashMap"then K=K..cJ(cB,cK+1)elseif type(cB)=="string"then K=K.."\""..tostring(cB).."\""else K=K..tostring(cB)end;if not(aB==cI:Length())then K=K..","end;K=K.."\n"end;return K..z.StringNTimes("\t",cK).."}"else return"nil"end end;local cL;cL=function(cM,cN)if type(cM)~="table"or type(cN)~="table"then return false end;local cO=true;for aP,W in pairs(cM)do if type(W)~="table"then cO=W==cN[aP]else cO=cL(W,cN[aP])end;if not cO then return false end end;for aP,W in pairs(cN)do if type(W)~="table"then cO=cM[aP]==W else cO=cL(cM[aP],W)end;if not cO then return false end end;return true end;local cP;cP=function(aG,cQ,cR)local cS=aG[cQ]aG[cQ]=aG[cR]aG[cR]=cS end;A={ArrayToSingleLineString=cF,HashMapToSingleLineString=cH,HashMapToMultiLineString=cJ,TablesAreEqual=cL,Swap=cP}end;do do local E;local N=a;local F={Render=function(self)local K=""K=K..self:BeforeRender()K=K.."\n"for aB,G in ipairs(self._children)do K=K..G:Render()if not(aB==#self._children)then K=K..","end;K=K.."\n"end;return K..self:AfterRender()end,BeforeRender=function(self)return tostring(self._indent).."local "..tostring(self._name).." = {"end,AfterRender=function(self)return tostring(self._indent).."}"end}F.__index=F;setmetatable(F,N.__base)E=setmetatable({__init=function(self,P)E.__parent.__init(self)self._name=P end,__base=F,__name="TableBlock",__parent=N},{__index=function(L,P)local Q=rawget(F,P)if Q==nil then local R=rawget(L,"__parent")if R then return R[P]end else return Q end end,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;if N.__inherited then N.__inherited(N,E)end;B=E end end;do do local E;local F={NameObjectVariable=function(self,Z)if self._nameCount[Z]then self._nameCount[Z]=self._nameCount[Z]+1 else self._nameCount[Z]=1 end;return"obj"..tostring(Z)..tostring(self._nameCount[Z])end}F.__index=F;E=setmetatable({__init=function(self)self._nameCount={}end,__base=F,__name="VariableNamer"},{__index=F,__call=function(L,...)local M=setmetatable({},F)L.__init(M,...)return M end})F.__class=E;C=E end end;local cT;cT=function(Z,cU)local bA=v.Parse(cU)if bA==nil then return''end;return u.Compile(Z,bA)end;return{Transpile=cT}